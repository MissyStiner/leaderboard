<html lang="en">
<canvas id="myChart"></canvas>
</html>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

<script>
const router = require('express').Router();
// const sequelize = require('../config/connection');
const { Post, User, Comment } = require('./models');
    //Chart information
function populateChart() {
  // copy array and reverse it
  let reversed = post_time.slice().reverse();
  let sum = 0;

  // create date labels for chart
  let labels = reversed.map(t => {
    let date = new Date(t.date);
    return `${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}`;
  });

  // create incremental values for chart
  let data = reversed.map(t => {
    sum += parseInt(t.value);
    return sum;
  });

  // remove old chart if it exists
  if (myChart) {
    myChart.destroy();
  }

  let ctx = document.getElementById("myChart").getContext("2d");

  myChart = new Chart(ctx, {
    type: 'line',
      data: {
        labels,
        datasets: [{
            label: "Total Over Time",
            fill: true,
            backgroundColor: "#6666ff",
            data
        }]
    }
  });
}
</script>